(this["webpackJsonptodo-react-app"]=this["webpackJsonptodo-react-app"]||[]).push([[0],{155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),o=a.n(c),i=a(18),s=(a(75),a(15)),l=a.n(s),u=a(23),d=a(24),p=a(6),m=a(7),f=a(9),h=a(8),b=a(10),g=(a(77),a(59)),E=a(27);a(78);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var x=r.a.createElement("title",null,"pencil"),k=r.a.createElement("g",{id:"pencil"},r.a.createElement("polygon",{points:"10.01 43.01 2 46 4.98 37.99 5 38 10 43 10.01 43.01",fill:"#2d346a"}),r.a.createElement("polygon",{points:"14.37 33.63 20.02 39.28 10.01 43.01 10 43 5 38 4.98 37.99 8.72 27.97 14.37 33.63",fill:"#fff"}),r.a.createElement("path",{d:"M41.11,18.19,20,39.28l-5.65-5.65L39,9l5.6,5.6a5.32,5.32,0,0,1-.59.68L41.12,18.2Z",fill:"#ffc12e"}),r.a.createElement("path",{d:"M29.81,6.89,32.74,4a5.4,5.4,0,0,1,.69-.59L39,9,14.37,33.63,8.72,28Z",fill:"#ffc12e"}),r.a.createElement("path",{d:"M46,10.41a6.84,6.84,0,0,1-1.36,4.16L39,9,33.43,3.36c2.85-2.16,7.17-1.72,10,1.16A8.39,8.39,0,0,1,46,10.41Z",fill:"#c3cce9"}),r.a.createElement("polyline",{points:"41.43 17.86 20.02 39.28 8.72 27.97 30.14 6.57",fill:"none",stroke:"#2d346a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),r.a.createElement("path",{d:"M29.81,6.89,32.74,4c2.81-2.81,7.62-2.55,10.74.57h0c3.12,3.12,3.38,7.93.57,10.73L41.12,18.2",fill:"none",stroke:"#2d346a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),r.a.createElement("polyline",{points:"20.02 39.28 2 46 8.72 27.97",fill:"none",stroke:"#2d346a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),r.a.createElement("line",{x1:5,y1:38,x2:10,y2:43,fill:"none",stroke:"#2d346a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),r.a.createElement("line",{x1:33.43,y1:3.36,x2:44.68,y2:14.61,fill:"none",stroke:"#2d346a",strokeLinejoin:"round",strokeWidth:2}),r.a.createElement("line",{x1:14.37,y1:33.63,x2:39.04,y2:8.97,fill:"none",stroke:"#2d346a",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),O=function(e){var t=e.svgRef,a=e.title,n=y(e,["svgRef","title"]);return r.a.createElement("svg",v({id:"icons",viewBox:"0 0 48 48",ref:t},n),void 0===a?x:a?r.a.createElement("title",null,a):null,k)},j=r.a.forwardRef((function(e,t){return r.a.createElement(O,v({svgRef:t},e))})),S=(a.p,a(169)),L=a(167),w=a(171),R=a(172),U=a(12),C=a(170),N=a(62),A=(a(79),function(e){var t=e.name,a=e.imageURL,n=Object(U.a)(e,["name","imageURL"]);return r.a.createElement(S.a,Object.assign({display:"flex",marginRight:8,marginLeft:8,alignItems:"center"},n),r.a.createElement(C.a,{src:a,name:t,size:32,marginRight:8}),r.a.createElement(N.a,{size:500},t))}),I=a(33),T=a.n(I);a(148),a(150);T.a.initializeApp({apiKey:"AIzaSyCkjxIEEQshEbM3GNrG5LMH2dqtuEgFLsM",authDomain:"todo-react-app-1c2b9.firebaseapp.com",databaseURL:"https://todo-react-app-1c2b9.firebaseio.com",projectId:"todo-react-app-1c2b9",storageBucket:"todo-react-app-1c2b9.appspot.com",messagingSenderId:"494569883453",appId:"1:494569883453:web:0bd3c0a828e36e45296754",measurementId:"G-FXZW0XVN8D"});var _=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,r,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=z.doc("/users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.displayName,c=t.email,o=t.photoURL,i=new Date,e.prev=9,e.next=12,n.set(Object(u.a)({displayName:r,email:c,photoURL:o,createdAt:i},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error("error creating user: ".concat(e.t0.message));case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),D=T.a.auth(),z=T.a.firestore(),M=new T.a.auth.GoogleAuthProvider;M.setCustomParameters({prompt:"select_account"});var W=function(){return D.signInWithPopup(M)},X=(T.a,a(40)),B=Object(X.a)([function(e){return e.user}],(function(e){return e.currentUser})),F=Object(i.b)((function(e){return{currentUser:B(e)}}))((function(e){var t=e.currentUser;return r.a.createElement("div",{className:"header-container"},r.a.createElement(S.a,{className:"header",display:"flex",padding:16,borderRadius:3,background:"tint2"},r.a.createElement(S.a,{flex:1,display:"flex",alignItems:"center"},r.a.createElement(j,{className:"logo"}),r.a.createElement(L.a,{size:600}," Todo")),r.a.createElement(S.a,{display:"flex"},t?r.a.createElement(S.a,{display:"flex"},r.a.createElement(A,{name:t.displayName,imageURL:t.photoURL}),r.a.createElement(w.a,{onClick:function(){return D.signOut()},appearance:"minimal",paddingX:8},r.a.createElement(R.a,{icon:"log-out",color:"muted"}))):r.a.createElement(w.a,{onClick:W,appearance:"primary"},r.a.createElement("span",null,"Sign In"),r.a.createElement(R.a,{icon:"log-in",marginLeft:10})))))})),P=(a(155),a(1)),G=(a(156),a(168)),Z=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",createdAt:null,disabled:!1},a.handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.setState({disabled:!0}),n=a.props.currentUser,e.prev=3,e.next=6,z.collection("/users/".concat(n.id,"/todos"));case 6:return r=e.sent,e.next=9,r.add({text:a.state.text,createdAt:new Date,starred:!1,completed:!1});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("couldn't save todo ".concat(e.t0.message));case 14:a.setState({text:"",disabled:!1});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.currentUser;return r.a.createElement("form",{className:"todo-form",onSubmit:this.handleSubmit},r.a.createElement(S.a,{display:"flex",margin:20,borderRadius:3,alignItems:"center",className:"todo-item",height:50},r.a.createElement(S.a,{flex:1,alignItems:"center",display:"flex",width:20,height:"100%"},r.a.createElement(G.a,{className:"text-input",name:"text",onChange:this.handleChange,placeholder:"Enter a new task",width:"100%",size:500,height:"100%",paddingX:12,required:!0,value:this.state.text,disabled:!e||this.state.disabled})),r.a.createElement(S.a,{height:"100%"},r.a.createElement(w.a,{className:"add-button",appearance:"minimal",height:"100%",paddingX:20,disabled:!e||this.state.disabled},r.a.createElement(N.a,{size:400},"Add")))))}}]),t}(r.a.Component),q=Object(i.b)((function(e){return{currentUser:B(e)}}))(Z),J=(a(157),a(158),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={starred:!1,completed:!1},a.handleCompleted=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.currentUser,e.prev=1,r=!a.state.completed,e.next=5,z.doc("/users/".concat(n.id,"/todos/").concat(t)).update({completed:r});case 5:a.setState({completed:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("failed to set todo as completed: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleStarred=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.currentUser,e.prev=1,r=!a.state.starred,e.next=5,z.doc("/users/".concat(n.id,"/todos/").concat(t)).update({starred:r});case 5:a.setState({starred:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("failed to set todo as starred: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.handleDelete=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.currentUser,e.prev=1,e.next=4,z.doc("/users/".concat(n.id,"/todos/").concat(t)).delete();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("failed to delete todo: ".concat(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.completed,a=e.starred;this.setState({completed:t,starred:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.todoId,n=t.index,c=t.text,o=t.starred,i=t.completed;return r.a.createElement(S.a,{display:"flex",padding:6,borderRadius:3,alignItems:"center",className:"todo-item"},r.a.createElement(S.a,{flex:1,alignItems:"center",display:"flex",width:20,marginRight:6},r.a.createElement(N.a,{size:500,marginX:4},"".concat(n,".")),r.a.createElement(N.a,{size:500,marginX:4,overflow:"hidden",className:"todo-text ".concat(i?"strike-text":""),onClick:function(){return e.handleCompleted(a)},"data-completed":i},c)),r.a.createElement(S.a,null,r.a.createElement(w.a,{appearance:"minimal",marginRight:4,onClick:function(){return e.handleStarred(a)}},r.a.createElement(R.a,{icon:"star",color:"".concat(o?"#F7D154":"muted")})),r.a.createElement(w.a,{appearance:"minimal",onClick:function(){return e.handleDelete(a)}},r.a.createElement(R.a,{icon:"cross",color:"danger"}))))}}]),t}(r.a.Component)),H=Object(i.b)((function(e){return{currentUser:B(e)}}))(J),K=Object(X.a)([function(e){return e.todo}],(function(e){return e.todos})),Q=Object(i.b)((function(e){return{todos:K(e)}}))((function(e){var t=e.todos;return r.a.createElement(S.a,{display:"flex",flexDirection:"column",borderRadius:3,background:"tint2",margin:20,className:"todo-container"},t.length?t.map((function(e,t){var a=e.id,n=e.text,c=e.starred,o=e.completed,i=Object(U.a)(e,["id","text","starred","completed"]);return r.a.createElement(H,Object.assign({key:a,todoId:a,text:n,index:t+1,starred:c,completed:o},i))})):r.a.createElement(S.a,{display:"flex",padding:16,borderRadius:3,alignItems:"center",justifyContent:"center"},r.a.createElement(L.a,{color:"#7B8B9A"},"Empty :(")))})),V=Object(i.b)((function(e){return{currentUser:B(e)}}))((function(e){var t=e.currentUser;return r.a.createElement("div",{className:"todo-page"},t?null:r.a.createElement(S.a,{display:"flex",padding:16,borderRadius:3,background:"tint2",margin:20,alignItems:"center"},r.a.createElement(L.a,{color:"#7B8B9A"},"Sign in and start adding tasks ^_^")),t?r.a.createElement(q,null):null,t?r.a.createElement(Q,null):null)})),Y=(a(159),function(){return r.a.createElement("div",{className:"footer-container"},r.a.createElement(S.a,{className:"footer",display:"flex",padding:16,borderRadius:3,background:"tint2",justifyContent:"center"},r.a.createElement(N.a,{display:"flex",alignItems:"center"},"made with ",r.a.createElement(R.a,{marginX:4,size:14,icon:"heart",color:"#EC4C47"})," by tru ^_^")))}),$={SET_CURRENT_USER:"SET_CURRENT_USER"},ee={SET_ALL_TODOS:"SET_ALL_TODOS"},te=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).unsubscribeFromAuth=null,a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCurrentUser,a=e.setAllTodos;this.unsubscribeFromAuth=D.onAuthStateChanged(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.next=3,z.collection("/users/".concat(n.uid,"/todos/"));case 3:return e.sent.onSnapshot((function(e){return a(e)})),e.next=7,_(n);case 7:e.sent.onSnapshot((function(e){t(Object(u.a)({id:e.id},e.data()))})),e.next=13;break;case 11:t(n),a(null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return r.a.createElement(g.a,{basename:"/todo-react-app"},r.a.createElement("div",{className:"app"},r.a.createElement(F,{className:"header"}),r.a.createElement("div",{className:"content"},r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/"},r.a.createElement(V,null)))),r.a.createElement(Y,{className:"footer"})))}}]),t}(r.a.Component),ae=Object(i.b)(null,(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:$.SET_CURRENT_USER,payload:e}}(t))},setAllTodos:function(t){return e(function(e){return{type:ee.SET_ALL_TODOS,payload:e}}(t))}}}))(te),ne=a(29),re=a(61),ce=a.n(re),oe={currentUser:null},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.SET_CURRENT_USER:return Object(u.a)({},e,{currentUser:t.payload});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())})).sort((function(e,t){return e.createdAt-t.createdAt})):[]},le={todos:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.SET_ALL_TODOS:return Object(u.a)({},e,{todos:se(t.payload)});default:return e}},de=Object(ne.c)({user:ie,todo:ue}),pe=[ce.a],me=Object(ne.d)(de,ne.a.apply(void 0,pe));o.a.render(r.a.createElement(i.a,{store:me},r.a.createElement(ae,null)),document.getElementById("root"))},66:function(e,t,a){e.exports=a(161)},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.02362cd9.chunk.js.map